{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.compilePseudoSelector = exports.aliases = exports.pseudos = exports.filters = void 0;\nvar css_what_1 = require(\"css-what\");\nvar filters_js_1 = require(\"./filters.js\");\nObject.defineProperty(exports, \"filters\", {\n  enumerable: true,\n  get: function () {\n    return filters_js_1.filters;\n  }\n});\nvar pseudos_js_1 = require(\"./pseudos.js\");\nObject.defineProperty(exports, \"pseudos\", {\n  enumerable: true,\n  get: function () {\n    return pseudos_js_1.pseudos;\n  }\n});\nvar aliases_js_1 = require(\"./aliases.js\");\nObject.defineProperty(exports, \"aliases\", {\n  enumerable: true,\n  get: function () {\n    return aliases_js_1.aliases;\n  }\n});\nvar subselects_js_1 = require(\"./subselects.js\");\nfunction compilePseudoSelector(next, selector, options, context, compileToken) {\n  var _a;\n  var name = selector.name,\n    data = selector.data;\n  if (Array.isArray(data)) {\n    if (!(name in subselects_js_1.subselects)) {\n      throw new Error(\"Unknown pseudo-class :\".concat(name, \"(\").concat(data, \")\"));\n    }\n    return subselects_js_1.subselects[name](next, data, options, context, compileToken);\n  }\n  var userPseudo = (_a = options.pseudos) === null || _a === void 0 ? void 0 : _a[name];\n  var stringPseudo = typeof userPseudo === \"string\" ? userPseudo : aliases_js_1.aliases[name];\n  if (typeof stringPseudo === \"string\") {\n    if (data != null) {\n      throw new Error(\"Pseudo \".concat(name, \" doesn't have any arguments\"));\n    }\n    // The alias has to be parsed here, to make sure options are respected.\n    var alias = (0, css_what_1.parse)(stringPseudo);\n    return subselects_js_1.subselects[\"is\"](next, alias, options, context, compileToken);\n  }\n  if (typeof userPseudo === \"function\") {\n    (0, pseudos_js_1.verifyPseudoArgs)(userPseudo, name, data, 1);\n    return function (elem) {\n      return userPseudo(elem, data) && next(elem);\n    };\n  }\n  if (name in filters_js_1.filters) {\n    return filters_js_1.filters[name](next, data, options, context);\n  }\n  if (name in pseudos_js_1.pseudos) {\n    var pseudo_1 = pseudos_js_1.pseudos[name];\n    (0, pseudos_js_1.verifyPseudoArgs)(pseudo_1, name, data, 2);\n    return function (elem) {\n      return pseudo_1(elem, options, data) && next(elem);\n    };\n  }\n  throw new Error(\"Unknown pseudo-class :\".concat(name));\n}\nexports.compilePseudoSelector = compilePseudoSelector;","map":{"version":3,"mappings":";;;;;;AAeA;AACA;AAKSA;EAAAC;EAAAC;IAAA,OALAC,oBAAO;EAAA;AAAA;AAChB;AAIkBH;EAAAC;EAAAC;IAAA,OAJTE,oBAAO;EAAA;AAAA;AAChB;AAG2BJ;EAAAC;EAAAC;IAAA,OAHlBG,oBAAO;EAAA;AAAA;AAChB;AAIA,SAAgBC,qBAAqB,CACjCC,IAAgC,EAChCC,QAAwB,EACxBC,OAA2C,EAC3CC,OAA2B,EAC3BC,YAA6C;;EAErC,QAAI,GAAWH,QAAQ,KAAnB;IAAEI,IAAI,GAAKJ,QAAQ,KAAb;EAElB,IAAIK,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,EAAE;IACrB,IAAI,EAAEG,IAAI,IAAIC,0BAAU,CAAC,EAAE;MACvB,MAAM,IAAIC,KAAK,CAAC,gCAAyBF,IAAI,cAAIH,IAAI,MAAG,CAAC;;IAG7D,OAAOI,0BAAU,CAACD,IAAI,CAAC,CAACR,IAAI,EAAEK,IAAI,EAAEH,OAAO,EAAEC,OAAO,EAAEC,YAAY,CAAC;;EAGvE,IAAMO,UAAU,GAAG,aAAO,CAACC,OAAO,0CAAGJ,IAAI,CAAC;EAE1C,IAAMK,YAAY,GACd,OAAOF,UAAU,KAAK,QAAQ,GAAGA,UAAU,GAAGb,oBAAO,CAACU,IAAI,CAAC;EAE/D,IAAI,OAAOK,YAAY,KAAK,QAAQ,EAAE;IAClC,IAAIR,IAAI,IAAI,IAAI,EAAE;MACd,MAAM,IAAIK,KAAK,CAAC,iBAAUF,IAAI,gCAA6B,CAAC;;IAGhE;IACA,IAAMM,KAAK,GAAG,oBAAK,EAACD,YAAY,CAAC;IACjC,OAAOJ,0BAAU,CAAC,IAAI,CAAC,CAACT,IAAI,EAAEc,KAAK,EAAEZ,OAAO,EAAEC,OAAO,EAAEC,YAAY,CAAC;;EAGxE,IAAI,OAAOO,UAAU,KAAK,UAAU,EAAE;IAClC,iCAAgB,EAACA,UAAU,EAAEH,IAAI,EAAEH,IAAI,EAAE,CAAC,CAAC;IAE3C,OAAO,UAACU,IAAI;MAAK,iBAAU,CAACA,IAAI,EAAEV,IAAI,CAAC,IAAIL,IAAI,CAACe,IAAI,CAAC;IAApC,CAAoC;;EAGzD,IAAIP,IAAI,IAAIZ,oBAAO,EAAE;IACjB,OAAOA,oBAAO,CAACY,IAAI,CAAC,CAACR,IAAI,EAAEK,IAAc,EAAEH,OAAO,EAAEC,OAAO,CAAC;;EAGhE,IAAIK,IAAI,IAAIX,oBAAO,EAAE;IACjB,IAAMmB,QAAM,GAAGnB,oBAAO,CAACW,IAAI,CAAC;IAC5B,iCAAgB,EAACQ,QAAM,EAAER,IAAI,EAAEH,IAAI,EAAE,CAAC,CAAC;IAEvC,OAAO,UAACU,IAAI;MAAK,eAAM,CAACA,IAAI,EAAEb,OAAO,EAAEG,IAAI,CAAC,IAAIL,IAAI,CAACe,IAAI,CAAC;IAAzC,CAAyC;;EAG9D,MAAM,IAAIL,KAAK,CAAC,gCAAyBF,IAAI,CAAE,CAAC;AACpD;AAlDAS","names":["Object","enumerable","get","filters_js_1","pseudos_js_1","aliases_js_1","compilePseudoSelector","next","selector","options","context","compileToken","data","Array","isArray","name","subselects_js_1","Error","userPseudo","pseudos","stringPseudo","alias","elem","pseudo_1","exports"],"sources":["pseudo-selectors/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}