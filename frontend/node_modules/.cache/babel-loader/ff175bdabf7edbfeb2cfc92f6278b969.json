{"ast":null,"code":"/**\n * Remove an element from the dom\n *\n * @category Manipulation\n * @param elem The element to be removed\n */\nexport function removeElement(elem) {\n  if (elem.prev) elem.prev.next = elem.next;\n  if (elem.next) elem.next.prev = elem.prev;\n  if (elem.parent) {\n    const childs = elem.parent.children;\n    childs.splice(childs.lastIndexOf(elem), 1);\n  }\n}\n/**\n * Replace an element in the dom\n *\n * @category Manipulation\n * @param elem The element to be replaced\n * @param replacement The element to be added\n */\nexport function replaceElement(elem, replacement) {\n  const prev = replacement.prev = elem.prev;\n  if (prev) {\n    prev.next = replacement;\n  }\n  const next = replacement.next = elem.next;\n  if (next) {\n    next.prev = replacement;\n  }\n  const parent = replacement.parent = elem.parent;\n  if (parent) {\n    const childs = parent.children;\n    childs[childs.lastIndexOf(elem)] = replacement;\n    elem.parent = null;\n  }\n}\n/**\n * Append a child to an element.\n *\n * @category Manipulation\n * @param elem The element to append to.\n * @param child The element to be added as a child.\n */\nexport function appendChild(elem, child) {\n  removeElement(child);\n  child.next = null;\n  child.parent = elem;\n  if (elem.children.push(child) > 1) {\n    const sibling = elem.children[elem.children.length - 2];\n    sibling.next = child;\n    child.prev = sibling;\n  } else {\n    child.prev = null;\n  }\n}\n/**\n * Append an element after another.\n *\n * @category Manipulation\n * @param elem The element to append after.\n * @param next The element be added.\n */\nexport function append(elem, next) {\n  removeElement(next);\n  const {\n    parent\n  } = elem;\n  const currNext = elem.next;\n  next.next = currNext;\n  next.prev = elem;\n  elem.next = next;\n  next.parent = parent;\n  if (currNext) {\n    currNext.prev = next;\n    if (parent) {\n      const childs = parent.children;\n      childs.splice(childs.lastIndexOf(currNext), 0, next);\n    }\n  } else if (parent) {\n    parent.children.push(next);\n  }\n}\n/**\n * Prepend a child to an element.\n *\n * @category Manipulation\n * @param elem The element to prepend before.\n * @param child The element to be added as a child.\n */\nexport function prependChild(elem, child) {\n  removeElement(child);\n  child.parent = elem;\n  child.prev = null;\n  if (elem.children.unshift(child) !== 1) {\n    const sibling = elem.children[1];\n    sibling.prev = child;\n    child.next = sibling;\n  } else {\n    child.next = null;\n  }\n}\n/**\n * Prepend an element before another.\n *\n * @category Manipulation\n * @param elem The element to prepend before.\n * @param prev The element be added.\n */\nexport function prepend(elem, prev) {\n  removeElement(prev);\n  const {\n    parent\n  } = elem;\n  if (parent) {\n    const childs = parent.children;\n    childs.splice(childs.indexOf(elem), 0, prev);\n  }\n  if (elem.prev) {\n    elem.prev.next = prev;\n  }\n  prev.parent = parent;\n  prev.prev = elem.prev;\n  prev.next = elem;\n  elem.prev = prev;\n}","map":{"version":3,"mappings":"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","names":["removeElement","elem","prev","next","parent","childs","children","splice","lastIndexOf","replaceElement","replacement","appendChild","child","push","sibling","length","append","currNext","prependChild","unshift","prepend","indexOf"],"sources":["manipulation.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}