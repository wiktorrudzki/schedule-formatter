{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getLoad = void 0;\nvar options_js_1 = __importStar(require(\"./options.js\"));\nvar staticMethods = __importStar(require(\"./static.js\"));\nvar cheerio_js_1 = require(\"./cheerio.js\");\nvar utils_js_1 = require(\"./utils.js\");\nfunction getLoad(parse, render) {\n  /**\n   * Create a querying function, bound to a document created from the provided markup.\n   *\n   * Note that similar to web browser contexts, this operation may introduce\n   * `<html>`, `<head>`, and `<body>` elements; set `isDocument` to `false` to\n   * switch to fragment mode and disable this.\n   *\n   * @param content - Markup to be loaded.\n   * @param options - Options for the created instance.\n   * @param isDocument - Allows parser to be switched to fragment mode.\n   * @returns The loaded document.\n   * @see {@link https://cheerio.js.org#loading} for additional usage information.\n   */\n  return function load(content, options, isDocument) {\n    if (isDocument === void 0) {\n      isDocument = true;\n    }\n    if (content == null) {\n      throw new Error('cheerio.load() expects a string');\n    }\n    var internalOpts = __assign(__assign({}, options_js_1.default), (0, options_js_1.flatten)(options));\n    var initialRoot = parse(content, internalOpts, isDocument, null);\n    /** Create an extended class here, so that extensions only live on one instance. */\n    var LoadedCheerio = /** @class */function (_super) {\n      __extends(LoadedCheerio, _super);\n      function LoadedCheerio() {\n        return _super !== null && _super.apply(this, arguments) || this;\n      }\n      LoadedCheerio.prototype._make = function (selector, context) {\n        var cheerio = initialize(selector, context);\n        cheerio.prevObject = this;\n        return cheerio;\n      };\n      LoadedCheerio.prototype._parse = function (content, options, isDocument, context) {\n        return parse(content, options, isDocument, context);\n      };\n      LoadedCheerio.prototype._render = function (dom) {\n        return render(dom, this.options);\n      };\n      return LoadedCheerio;\n    }(cheerio_js_1.Cheerio);\n    function initialize(selector, context, root, opts) {\n      if (root === void 0) {\n        root = initialRoot;\n      }\n      // $($)\n      if (selector && (0, utils_js_1.isCheerio)(selector)) return selector;\n      var options = __assign(__assign({}, internalOpts), (0, options_js_1.flatten)(opts));\n      var r = typeof root === 'string' ? [parse(root, options, false, null)] : 'length' in root ? root : [root];\n      var rootInstance = (0, utils_js_1.isCheerio)(r) ? r : new LoadedCheerio(r, null, options);\n      // Add a cyclic reference, so that calling methods on `_root` never fails.\n      rootInstance._root = rootInstance;\n      // $(), $(null), $(undefined), $(false)\n      if (!selector) {\n        return new LoadedCheerio(undefined, rootInstance, options);\n      }\n      var elements = typeof selector === 'string' && (0, utils_js_1.isHtml)(selector) ?\n      // $(<html>)\n      parse(selector, options, false, null).children : isNode(selector) ?\n      // $(dom)\n      [selector] : Array.isArray(selector) ?\n      // $([dom])\n      selector : undefined;\n      var instance = new LoadedCheerio(elements, rootInstance, options);\n      if (elements) {\n        return instance;\n      }\n      if (typeof selector !== 'string') {\n        throw new Error('Unexpected type of selector');\n      }\n      // We know that our selector is a string now.\n      var search = selector;\n      var searchContext = !context ?\n      // If we don't have a context, maybe we have a root, from loading\n      rootInstance : typeof context === 'string' ? (0, utils_js_1.isHtml)(context) ?\n      // $('li', '<ul>...</ul>')\n      new LoadedCheerio([parse(context, options, false, null)], rootInstance, options) : (\n      // $('li', 'ul')\n      search = \"\".concat(context, \" \").concat(search), rootInstance) : (0, utils_js_1.isCheerio)(context) ?\n      // $('li', $)\n      context :\n      // $('li', node), $('li', [nodes])\n      new LoadedCheerio(Array.isArray(context) ? context : [context], rootInstance, options);\n      // If we still don't have a context, return\n      if (!searchContext) return instance;\n      /*\n       * #id, .class, tag\n       */\n      return searchContext.find(search);\n    }\n    // Add in static methods & properties\n    Object.assign(initialize, staticMethods, {\n      load: load,\n      // `_root` and `_options` are used in static methods.\n      _root: initialRoot,\n      _options: internalOpts,\n      // Add `fn` for plugins\n      fn: LoadedCheerio.prototype,\n      // Add the prototype here to maintain `instanceof` behavior.\n      prototype: LoadedCheerio.prototype\n    });\n    return initialize;\n  };\n}\nexports.getLoad = getLoad;\nfunction isNode(obj) {\n  return !!obj.name || obj.type === 'root' || obj.type === 'text' || obj.type === 'comment';\n}","map":{"version":3,"mappings":"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","names":["getLoad","parse","render","load","content","options","isDocument","Error","internalOpts","options_js_1","initialRoot","__extends","LoadedCheerio","selector","context","cheerio","initialize","prevObject","dom","cheerio_js_1","root","opts","r","rootInstance","_root","undefined","elements","children","isNode","Array","isArray","instance","search","searchContext","find","Object","assign","staticMethods","_options","fn","prototype","exports","obj","name","type"],"sources":["load.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}