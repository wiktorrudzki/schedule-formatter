{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.css = void 0;\nvar utils_js_1 = require(\"../utils.js\");\n/**\n * Set multiple CSS properties for every matched element.\n *\n * @category CSS\n * @param prop - The names of the properties.\n * @param val - The new values.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/css/}\n */\nfunction css(prop, val) {\n  if (prop != null && val != null ||\n  // When `prop` is a \"plain\" object\n  typeof prop === 'object' && !Array.isArray(prop)) {\n    return (0, utils_js_1.domEach)(this, function (el, i) {\n      if ((0, utils_js_1.isTag)(el)) {\n        // `prop` can't be an array here anymore.\n        setCss(el, prop, val, i);\n      }\n    });\n  }\n  if (this.length === 0) {\n    return undefined;\n  }\n  return getCss(this[0], prop);\n}\nexports.css = css;\n/**\n * Set styles of all elements.\n *\n * @private\n * @param el - Element to set style of.\n * @param prop - Name of property.\n * @param value - Value to set property to.\n * @param idx - Optional index within the selection.\n */\nfunction setCss(el, prop, value, idx) {\n  if (typeof prop === 'string') {\n    var styles = getCss(el);\n    var val = typeof value === 'function' ? value.call(el, idx, styles[prop]) : value;\n    if (val === '') {\n      delete styles[prop];\n    } else if (val != null) {\n      styles[prop] = val;\n    }\n    el.attribs['style'] = stringify(styles);\n  } else if (typeof prop === 'object') {\n    Object.keys(prop).forEach(function (k, i) {\n      setCss(el, k, prop[k], i);\n    });\n  }\n}\nfunction getCss(el, prop) {\n  if (!el || !(0, utils_js_1.isTag)(el)) return;\n  var styles = parse(el.attribs['style']);\n  if (typeof prop === 'string') {\n    return styles[prop];\n  }\n  if (Array.isArray(prop)) {\n    var newStyles_1 = {};\n    prop.forEach(function (item) {\n      if (styles[item] != null) {\n        newStyles_1[item] = styles[item];\n      }\n    });\n    return newStyles_1;\n  }\n  return styles;\n}\n/**\n * Stringify `obj` to styles.\n *\n * @private\n * @category CSS\n * @param obj - Object to stringify.\n * @returns The serialized styles.\n */\nfunction stringify(obj) {\n  return Object.keys(obj).reduce(function (str, prop) {\n    return \"\".concat(str).concat(str ? ' ' : '').concat(prop, \": \").concat(obj[prop], \";\");\n  }, '');\n}\n/**\n * Parse `styles`.\n *\n * @private\n * @category CSS\n * @param styles - Styles to be parsed.\n * @returns The parsed styles.\n */\nfunction parse(styles) {\n  styles = (styles || '').trim();\n  if (!styles) return {};\n  var obj = {};\n  var key;\n  for (var _i = 0, _a = styles.split(';'); _i < _a.length; _i++) {\n    var str = _a[_i];\n    var n = str.indexOf(':');\n    // If there is no :, or if it is the first/last character, add to the previous item's value\n    if (n < 1 || n === str.length - 1) {\n      var trimmed = str.trimEnd();\n      if (trimmed.length > 0 && key !== undefined) {\n        obj[key] += \";\".concat(trimmed);\n      }\n    } else {\n      key = str.slice(0, n).trim();\n      obj[key] = str.slice(n + 1).trim();\n    }\n  }\n  return obj;\n}","map":{"version":3,"mappings":"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","names":["css","prop","val","Array","isArray","el","i","setCss","length","undefined","getCss","exports","value","idx","styles","call","attribs","stringify","Object","keys","forEach","k","parse","newStyles_1","item","obj","reduce","str","trim","key","_a","split","_i","n","indexOf","trimmed","trimEnd","slice"],"sources":["api/css.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}